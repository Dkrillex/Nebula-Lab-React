# ç—…æ¯’å¼è§†é¢‘ç”ŸæˆåŠŸèƒ½è¯¦ç»†è¯´æ˜æ–‡æ¡£

## ğŸ“‹ ç›®å½•
1. [åŠŸèƒ½æ¦‚è¿°](#åŠŸèƒ½æ¦‚è¿°)
2. [æ•´ä½“å·¥ä½œæµç¨‹](#æ•´ä½“å·¥ä½œæµç¨‹)
3. [Step 1: ç´ æä¸å–ç‚¹](#step-1-ç´ æä¸å–ç‚¹)
4. [Step 2: é€‰æ‹©è„šæœ¬](#step-2-é€‰æ‹©è„šæœ¬)
5. [Step 3: ç¼–è¾‘åˆ†é•œ](#step-3-ç¼–è¾‘åˆ†é•œ)
6. [Step 4: ç”Ÿæˆè§†é¢‘](#step-4-ç”Ÿæˆè§†é¢‘)
7. [æ•°æ®æŒä¹…åŒ–](#æ•°æ®æŒä¹…åŒ–)
8. [é”™è¯¯å¤„ç†](#é”™è¯¯å¤„ç†)
9. [æ¥å£è°ƒç”¨è¯¦æƒ…](#æ¥å£è°ƒç”¨è¯¦æƒ…)

---

## åŠŸèƒ½æ¦‚è¿°

ç—…æ¯’å¼è§†é¢‘ç”ŸæˆåŠŸèƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„AIé©±åŠ¨çš„è¥é”€è§†é¢‘åˆ›ä½œå·¥ä½œæµï¼ŒåŒ…å«4ä¸ªä¸»è¦æ­¥éª¤ï¼š
1. **ç´ æä¸å–ç‚¹** - ä¸Šä¼ å•†å“å›¾ç‰‡ï¼ŒAIåˆ†ææå–å•†å“ä¿¡æ¯
2. **é€‰æ‹©è„šæœ¬** - AIç”Ÿæˆå¤šä¸ªè„šæœ¬é€‰é¡¹ï¼Œç”¨æˆ·é€‰æ‹©å¹¶ç”Ÿæˆåˆ†é•œ
3. **ç¼–è¾‘åˆ†é•œ** - ç¼–è¾‘åˆ†é•œå°è¯ï¼Œç”Ÿæˆ5ç§’è§†é¢‘ç‰‡æ®µ
4. **ç”Ÿæˆè§†é¢‘** - åˆå¹¶æ‰€æœ‰åˆ†é•œè§†é¢‘ï¼Œç”Ÿæˆæœ€ç»ˆè¥é”€è§†é¢‘

---

## æ•´ä½“å·¥ä½œæµç¨‹

```
ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡
    â†“
[Step 1] å›¾ç‰‡åˆ†æ â†’ æå–å•†å“åç§°ã€å–ç‚¹ã€åœºæ™¯
    â†“
[Step 2] ç”Ÿæˆè„šæœ¬é€‰é¡¹ â†’ ç”¨æˆ·é€‰æ‹©è„šæœ¬ â†’ ç”Ÿæˆåˆ†é•œè¯¦æƒ…
    â†“
[Step 3] ç¼–è¾‘åˆ†é•œå°è¯ â†’ ç”Ÿæˆå•ä¸ª/æ‰¹é‡5ç§’è§†é¢‘ç‰‡æ®µ
    â†“
[Step 4] åˆå¹¶æ‰€æœ‰è§†é¢‘ç‰‡æ®µ â†’ ç”Ÿæˆæœ€ç»ˆè¥é”€è§†é¢‘ â†’ ä¸‹è½½
```

---

## Step 1: ç´ æä¸å–ç‚¹

### åŠŸèƒ½æè¿°
ç”¨æˆ·é€šè¿‡ä¸‰ç§æ–¹å¼ä¸Šä¼ å•†å“å›¾ç‰‡ï¼Œç³»ç»Ÿè‡ªåŠ¨åˆ†æå›¾ç‰‡æå–å•†å“ä¿¡æ¯ã€‚

### ä¸‰ç§ä¸Šä¼ æ–¹å¼

#### 1. æœ¬åœ°æ–‡ä»¶ä¸Šä¼ 
**è§¦å‘æ–¹å¼**: ç‚¹å‡»"ä¸Šä¼ æœ¬åœ°"æŒ‰é’®æˆ–æ‹–æ‹½æ–‡ä»¶

**å¤„ç†æµç¨‹**:
```typescript
handleFileChange(e: React.ChangeEvent<HTMLInputElement>)
  â†“
1. éªŒè¯æ–‡ä»¶ç±»å‹: file.type.startsWith('image/')
2. éªŒè¯æ–‡ä»¶å¤§å°: file.size <= 50MB
3. è°ƒç”¨ uploadService.uploadFile(file)
   - æ¥å£: POST /resource/oss/upload
   - è¿”å›: { url: string, fileName: string, ossId: string }
4. æ›´æ–° uploadedImages çŠ¶æ€
5. å¦‚æœæ˜¯ç¬¬ä¸€å¼ å›¾ç‰‡ä¸”æœªåˆ†æï¼Œè‡ªåŠ¨è°ƒç”¨ analyzeImage()
```

**æ¥å£è°ƒç”¨**:
- **Endpoint**: `POST /resource/oss/upload`
- **å‚æ•°**: FormData (åŒ…å«æ–‡ä»¶)
- **è¿”å›**: 
  ```typescript
  {
    url: string,        // OSSå›¾ç‰‡URL
    fileName: string,   // æ–‡ä»¶å
    ossId: string      // OSS ID
  }
  ```

#### 2. ä»ä½œå“é›†é€‰æ‹©
**è§¦å‘æ–¹å¼**: ç‚¹å‡»"ä»ä½œå“é›†é€‰æ‹©"æŒ‰é’®

**å¤„ç†æµç¨‹**:
```typescript
handleSelectFromPortfolio()
  â†“
1. æ‰“å¼€ä½œå“é›†å¼¹çª— (showPortfolioModal = true)
2. è°ƒç”¨ assetsService.getAssetsList()
   - æ¥å£: GET /resource/assets/list
   - å‚æ•°: { pageNum: 1, pageSize: 50, dataType: 1 }
3. è¿‡æ»¤å›¾ç‰‡ç±»å‹ç´ æ (jpg|jpeg|png|gif|webp|bmp)
4. æ˜¾ç¤ºåœ¨å¼¹çª—ä¸­ä¾›ç”¨æˆ·é€‰æ‹©
5. ç”¨æˆ·é€‰æ‹©åè°ƒç”¨ handleSelectAsset(asset)
   - æå– assetUrl æˆ– coverUrl æˆ– thumbnailUrl
   - æ›´æ–° uploadedImages çŠ¶æ€
   - å¦‚æœæ˜¯ç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œè‡ªåŠ¨åˆ†æ
```

**æ¥å£è°ƒç”¨**:
- **Endpoint**: `GET /resource/assets/list`
- **å‚æ•°**: 
  ```typescript
  {
    pageNum: number,    // é¡µç 
    pageSize: number,   // æ¯é¡µæ•°é‡
    dataType: 1         // æ–‡ä»¶ç±»å‹
  }
  ```
- **è¿”å›**: `AdsAssetsVO[]` æ•°ç»„

#### 3. é“¾æ¥å¯¼å…¥
**è§¦å‘æ–¹å¼**: åœ¨"é“¾æ¥"æ ‡ç­¾é¡µè¾“å…¥å›¾ç‰‡URL

**å¤„ç†æµç¨‹**:
```typescript
handleLinkImport()
  â†“
1. éªŒè¯URLæ ¼å¼: new URL(linkInput)
2. æå–æ–‡ä»¶æ‰©å±•å: pathname.match(/\.(jpg|jpeg|png|gif|webp|bmp)$/i)
3. è°ƒç”¨ uploadService.uploadByImageUrl(linkInput, extension)
   - æ¥å£: POST /resource/oss/uploadByImageUrl
   - å‚æ•°: { imageUrl: string, extensionType: string }
4. æ›´æ–° uploadedImages çŠ¶æ€
5. å¦‚æœæ˜¯ç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œè‡ªåŠ¨åˆ†æ
```

**æ¥å£è°ƒç”¨**:
- **Endpoint**: `POST /resource/oss/uploadByImageUrl`
- **å‚æ•°**: 
  ```typescript
  {
    imageUrl: string,      // å›¾ç‰‡URL
    extensionType: string  // æ‰©å±•å (jpg/pngç­‰)
  }
  ```
- **è¿”å›**: `{ url: string, fileName: string, ossId: string }`

### å›¾ç‰‡åˆ†æåŠŸèƒ½

**è§¦å‘æ—¶æœº**:
- ä¸Šä¼ ç¬¬ä¸€å¼ å›¾ç‰‡åè‡ªåŠ¨è§¦å‘
- ç”¨æˆ·æ‰‹åŠ¨ç‚¹å‡»"åˆ†æå›¾ç‰‡"æŒ‰é’®

**å¤„ç†æµç¨‹**:
```typescript
analyzeImage(imageUrl: string)
  â†“
1. æ£€æŸ¥ isAnalyzing çŠ¶æ€ï¼Œé˜²æ­¢é‡å¤è°ƒç”¨
2. è®¾ç½® isAnalyzing = true
3. è°ƒç”¨ viralVideoService.analyzeProductImage(imageUrl, 'qwen-plus')
   â†“
   [å†…éƒ¨å¤„ç†]
   a. æ„å»ºAIæç¤ºè¯ (systemPrompt + userPrompt)
   b. è°ƒç”¨ chatService.chatCompletions()
      - æ¥å£: POST /ads/playground/chat/completions
      - å‚æ•°: {
          model: 'qwen-plus',
          messages: [
            { role: 'system', content: systemPrompt },
            { 
              role: 'user', 
              content: [
                { type: 'text', text: 'è¯·åˆ†æè¿™å¼ å•†å“å›¾ç‰‡ï¼š' },
                { type: 'image_url', image_url: { url: imageUrl } }
              ]
            }
          ],
          temperature: 0.3
        }
   c. è§£æAIè¿”å›çš„JSON
      - å°è¯•æå– ```json ... ``` ä»£ç å—
      - æˆ–æå– { ... } JSONå¯¹è±¡
   d. è§„èŒƒåŒ–æ•°æ®:
      - sellingPoints: æ•°ç»„æˆ–å­—ç¬¦ä¸²(åˆ†å·åˆ†éš”) â†’ æ•°ç»„
      - scenes: æ•°ç»„æˆ–å­—ç¬¦ä¸²(åˆ†å·åˆ†éš”) â†’ æ•°ç»„
4. æ›´æ–° analysisResult çŠ¶æ€
5. ä¿å­˜åˆ° localStorage: 'viralVideo_analysis'
6. æ˜¾ç¤º toast.success('å›¾ç‰‡åˆ†æå®Œæˆ')
```

**æ¥å£è°ƒç”¨**:
- **Endpoint**: `POST /ads/playground/chat/completions`
- **å‚æ•°**:
  ```typescript
  {
    model: 'qwen-plus',
    messages: [
      {
        role: 'system',
        content: 'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å•†å“åˆ†æä¸“å®¶ã€‚è¯·åˆ†æè¿™å¼ å•†å“å›¾ç‰‡ï¼Œæå–ä»¥ä¸‹ä¿¡æ¯ï¼š1. å•†å“åç§°...'
      },
      {
        role: 'user',
        content: [
          { type: 'text', text: 'è¯·åˆ†æè¿™å¼ å•†å“å›¾ç‰‡ï¼š' },
          { 
            type: 'image_url', 
            image_url: { url: string } 
          }
        ]
      }
    ],
    temperature: 0.3
  }
  ```
- **è¿”å›**: 
  ```typescript
  {
    code: 200,
    data: {
      choices: [{
        message: {
          content: string  // JSONæ ¼å¼çš„åˆ†æç»“æœ
        }
      }]
    }
  }
  ```

**åˆ†æç»“æœæ•°æ®ç»“æ„**:
```typescript
interface ProductAnalysis {
  productName: string;      // å•†å“åç§°
  sellingPoints: string[];  // ä¸»è¦å–ç‚¹æ•°ç»„
  scenes: string[];         // é€‚ç”¨åœºæ™¯æ•°ç»„
  category?: string;        // å•†å“ç±»åˆ«
  style?: string;           // é£æ ¼ç‰¹ç‚¹
}
```

### è¿›å…¥Step 2çš„åˆ¤æ–­é€»è¾‘

**è§¦å‘**: ç‚¹å‡»"Make Same"æŒ‰é’®æˆ– `handleGoToStep2()`

**åˆ¤æ–­æ¡ä»¶**:
```typescript
if (uploadedImages.length === 0) {
  toast.error('è¯·å…ˆä¸Šä¼ è‡³å°‘ä¸€å¼ å›¾ç‰‡');
  return;
}
if (!analysisResult) {
  toast.error('è¯·å…ˆå®Œæˆå›¾ç‰‡åˆ†æ');
  return;
}
// é€šè¿‡åæ‰§è¡Œ: setStep(2)
```

---

## Step 2: é€‰æ‹©è„šæœ¬

### åŠŸèƒ½æè¿°
åŸºäºå•†å“åˆ†æç»“æœï¼ŒAIç”Ÿæˆ3-5ä¸ªè¥é”€è„šæœ¬é€‰é¡¹ï¼Œç”¨æˆ·é€‰æ‹©åè‡ªåŠ¨ç”Ÿæˆåˆ†é•œè¯¦æƒ…ã€‚

### è‡ªåŠ¨ç”Ÿæˆè„šæœ¬

**è§¦å‘æ—¶æœº**:
- è¿›å…¥Step 2æ—¶ï¼Œå¦‚æœ `analysisResult` å­˜åœ¨ä¸” `availableScripts.length === 0`
- é€šè¿‡ `useEffect` è‡ªåŠ¨è§¦å‘

**å¤„ç†æµç¨‹**:
```typescript
generateScripts()
  â†“
1. æ£€æŸ¥ analysisResult æ˜¯å¦å­˜åœ¨
2. è®¾ç½® isGeneratingScripts = true
3. è°ƒç”¨ viralVideoService.generateScripts(analysisResult, 'qwen-plus')
   â†“
   [å†…éƒ¨å¤„ç†]
   a. æ„å»ºAIæç¤ºè¯ï¼ŒåŒ…å«å•†å“ä¿¡æ¯
   b. è°ƒç”¨ chatService.chatCompletions()
      - æ¥å£: POST /ads/playground/chat/completions
      - å‚æ•°: {
          model: 'qwen-plus',
          messages: [
            { role: 'system', content: 'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„çŸ­è§†é¢‘è¥é”€è„šæœ¬åˆ›ä½œä¸“å®¶...' },
            { role: 'user', content: 'å•†å“ä¿¡æ¯ï¼š...' }
          ],
          temperature: 0.7
        }
   c. è§£æè¿”å›çš„JSONæ•°ç»„
   d. éªŒè¯å’Œè§„èŒƒåŒ–è„šæœ¬æ•°æ®
4. æ›´æ–° availableScripts çŠ¶æ€
5. ä¿å­˜åˆ° localStorage: 'viralVideo_scripts'
6. å¦‚æœç”ŸæˆæˆåŠŸä¸”æ•°é‡>0:
   - è‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªè„šæœ¬: setSelectedScript(scripts[0].id)
   - è‡ªåŠ¨ç”Ÿæˆåˆ†é•œ: await generateStoryboard(scripts[0])
7. æ˜¾ç¤º toast.success(`æˆåŠŸç”Ÿæˆ ${scripts.length} ä¸ªè„šæœ¬é€‰é¡¹`)
```

**æ¥å£è°ƒç”¨**:
- **Endpoint**: `POST /ads/playground/chat/completions`
- **å‚æ•°**:
  ```typescript
  {
    model: 'qwen-plus',
    messages: [
      {
        role: 'system',
        content: 'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„çŸ­è§†é¢‘è¥é”€è„šæœ¬åˆ›ä½œä¸“å®¶ã€‚åŸºäºå•†å“ä¿¡æ¯ï¼Œç”Ÿæˆ3-5ä¸ªè¥é”€è„šæœ¬æ¨¡æ¿...'
      },
      {
        role: 'user',
        content: `å•†å“ä¿¡æ¯ï¼š
- å•†å“åç§°ï¼š${analysis.productName}
- ä¸»è¦å–ç‚¹ï¼š${analysis.sellingPoints.join('ã€')}
- é€‚ç”¨åœºæ™¯ï¼š${analysis.scenes.join('ã€')}
...`
      }
    ],
    temperature: 0.7
  }
  ```
- **è¿”å›**: JSONæ•°ç»„æ ¼å¼çš„è„šæœ¬åˆ—è¡¨

**è„šæœ¬æ•°æ®ç»“æ„**:
```typescript
interface ScriptOption {
  id: string;           // è„šæœ¬ID
  title: string;        // è„šæœ¬æ ‡é¢˜
  subtitle: string;     // å‰¯æ ‡é¢˜
  time: string;         // é¢„è®¡æ—¶é•¿ (å¦‚ "30s")
  description?: string; // è„šæœ¬æè¿°
}
```

### è„šæœ¬é€‰æ‹©

**è§¦å‘**: ç”¨æˆ·ç‚¹å‡»è„šæœ¬å¡ç‰‡

**å¤„ç†æµç¨‹**:
```typescript
handleScriptSelect(scriptId: string)
  â†“
1. ä» availableScripts ä¸­æ‰¾åˆ°å¯¹åº”è„šæœ¬
2. æ›´æ–° selectedScript çŠ¶æ€
3. æ£€æŸ¥ localStorage ä¸­æ˜¯å¦æœ‰è¯¥è„šæœ¬çš„åˆ†é•œæ•°æ®
   - å¦‚æœæœ‰ä¸” scriptId åŒ¹é…ï¼Œç›´æ¥åŠ è½½
   - å¦‚æœæ²¡æœ‰ï¼Œè°ƒç”¨ generateStoryboard(script)
```

### ç”Ÿæˆåˆ†é•œè¯¦æƒ…

**è§¦å‘æ—¶æœº**:
- è„šæœ¬ç”Ÿæˆåè‡ªåŠ¨ä¸ºç¬¬ä¸€ä¸ªè„šæœ¬ç”Ÿæˆåˆ†é•œ
- ç”¨æˆ·é€‰æ‹©æ–°è„šæœ¬æ—¶ç”Ÿæˆåˆ†é•œ

**å¤„ç†æµç¨‹**:
```typescript
generateStoryboard(script: ScriptOption)
  â†“
1. æ£€æŸ¥å¿…è¦æ•°æ®: analysisResult å’Œ uploadedImages
2. è®¾ç½® isGeneratingStoryboard = true
3. è°ƒç”¨ viralVideoService.generateStoryboard(script, analysisResult, imageUrls, 'qwen-plus')
   â†“
   [å†…éƒ¨å¤„ç†]
   a. æ„å»ºAIæç¤ºè¯ï¼ŒåŒ…å«è„šæœ¬ä¿¡æ¯å’Œå•†å“ä¿¡æ¯
   b. è°ƒç”¨ chatService.chatCompletions()
      - æ¥å£: POST /ads/playground/chat/completions
      - å‚æ•°: {
          model: 'qwen-plus',
          messages: [
            { role: 'system', content: 'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è§†é¢‘åˆ†é•œåˆ›ä½œä¸“å®¶...' },
            { role: 'user', content: 'è„šæœ¬ä¿¡æ¯ï¼š...å•†å“ä¿¡æ¯ï¼š...å¯ç”¨å›¾ç‰‡ï¼š...' }
          ],
          temperature: 0.7
        }
   c. è§£æè¿”å›çš„JSON
   d. å¤„ç†å›¾ç‰‡å¼•ç”¨:
      - å°† "å›¾ç‰‡1"ã€"å›¾ç‰‡2" æ›¿æ¢ä¸ºå®é™…URL
      - å¦‚æœimgä¸æ˜¯URLï¼Œæ ¹æ®ç´¢å¼•åˆ†é…å›¾ç‰‡
4. æ›´æ–° storyboard çŠ¶æ€
5. ä¿å­˜åˆ° localStorage:
   - 'viralVideo_storyboard'
   - 'viralVideo_selectedScript'
6. æ˜¾ç¤º toast.success('åˆ†é•œç”Ÿæˆå®Œæˆ')
```

**æ¥å£è°ƒç”¨**:
- **Endpoint**: `POST /ads/playground/chat/completions`
- **å‚æ•°**: åŒä¸Šï¼Œä½†æç¤ºè¯ä¸åŒï¼ˆåˆ†é•œåˆ›ä½œä¸“å®¶ï¼‰
- **è¿”å›**: JSONæ ¼å¼çš„åˆ†é•œæ•°æ®

**åˆ†é•œæ•°æ®ç»“æ„**:
```typescript
interface Storyboard {
  scriptTitle: string;        // è„šæœ¬æ ‡é¢˜
  scriptSubtitle: string;    // è„šæœ¬å‰¯æ ‡é¢˜
  totalDuration: string;     // æ€»æ—¶é•¿
  scenes: StoryboardScene[];  // åˆ†é•œåˆ—è¡¨
}

interface StoryboardScene {
  id: number;                 // åˆ†é•œID
  scene: number;              // åˆ†é•œç¼–å·
  shots: Shot[];              // é•œå¤´åˆ—è¡¨
  lines: string;              // å°è¯
}

interface Shot {
  img: string;                // å›¾ç‰‡URL
  desc: string;               // ç”»é¢æè¿°
}
```

### è¿›å…¥Step 3çš„åˆ¤æ–­é€»è¾‘

**è§¦å‘**: ç‚¹å‡»"å–œæ¬¢æ­¤è„šæœ¬ï¼Œå°±å®ƒäº†"æŒ‰é’®

**åˆ¤æ–­æ¡ä»¶**:
```typescript
if (!storyboard) {
  toast.error('è¯·å…ˆé€‰æ‹©è„šæœ¬å¹¶ç”Ÿæˆåˆ†é•œ');
  return;
}
// é€šè¿‡åæ‰§è¡Œ: setStep(3)
```

---

## Step 3: ç¼–è¾‘åˆ†é•œ

### åŠŸèƒ½æè¿°
ç”¨æˆ·å¯ä»¥ç¼–è¾‘æ¯ä¸ªåˆ†é•œçš„å°è¯ï¼Œç„¶åç”Ÿæˆ5ç§’çš„è§†é¢‘ç‰‡æ®µã€‚æ”¯æŒå•ä¸ªç”Ÿæˆå’Œæ‰¹é‡ç”Ÿæˆã€‚

### åˆ†é•œå°è¯ç¼–è¾‘

**è§¦å‘**: ç”¨æˆ·åœ¨åˆ†é•œå¡ç‰‡ä¸­ä¿®æ”¹æ–‡æœ¬

**å¤„ç†æµç¨‹**:
```typescript
updateSceneLines(sceneId: number, lines: string)
  â†“
1. å¦‚æœ editedStoryboard ä¸å­˜åœ¨ï¼Œä» storyboard å¤åˆ¶
2. æ‰¾åˆ°å¯¹åº”åˆ†é•œ: scenes.find(s => s.id === sceneId)
3. æ›´æ–°åˆ†é•œçš„ lines å­—æ®µ
4. æ›´æ–° editedStoryboard çŠ¶æ€
5. ä¿å­˜åˆ° localStorage: 'viralVideo_editedStoryboard'
```

### ç”Ÿæˆå•ä¸ªåˆ†é•œè§†é¢‘

**è§¦å‘**: ç”¨æˆ·ç‚¹å‡»åˆ†é•œå¡ç‰‡ä¸Šçš„"ç”Ÿæˆè§†é¢‘"æŒ‰é’®

**å¤„ç†æµç¨‹**:
```typescript
generateSceneVideo(sceneId: number)
  â†“
1. æ£€æŸ¥åˆ†é•œæ•°æ®æ˜¯å¦å­˜åœ¨
2. æ‰¾åˆ°å¯¹åº”åˆ†é•œ
3. æ›´æ–°çŠ¶æ€:
   - generatingScenes æ·»åŠ  sceneId
   - storyboardVideos[sceneId] = { status: 'pending' }
4. æ„å»ºè§†é¢‘ç”Ÿæˆå‚æ•°:
   - imageUrl: scene.shots[0]?.img || uploadedImages[0]?.url
   - prompt: `${scene.lines} --ratio 3:4 --dur 5`
5. è°ƒç”¨ videoGenerateService.submitVideoTask()
   - æ¥å£: POST /ads/playground/video/completions
   - å‚æ•°: {
       model: 'doubao-seedance-1-0-pro-250528',
       prompt: string,
       content: [
         { type: 'text', text: prompt },
         { 
           type: 'image_url', 
           image_url: { url: imageUrl },
           role: 'reference_image'
         }
       ],
       user_id: string
     }
6. è·å– task_id
7. æ›´æ–°çŠ¶æ€: storyboardVideos[sceneId] = { taskId, status: 'processing', progress: 0 }
8. å¼€å§‹è½®è¯¢: pollVideoTask(sceneId, taskId)
```

**æ¥å£è°ƒç”¨**:
- **Endpoint**: `POST /ads/playground/video/completions`
- **å‚æ•°**:
  ```typescript
  {
    model: 'doubao-seedance-1-0-pro-250528',
    prompt: string,  // ä¾‹å¦‚: "å°è¯å†…å®¹ --ratio 3:4 --dur 5"
    content: [
      { type: 'text', text: string },
      { 
        type: 'image_url', 
        image_url: { url: string },
        role: 'reference_image'
      }
    ],
    user_id: string
  }
  ```
- **è¿”å›**:
  ```typescript
  {
    code: 200,
    data: {
      task_id: string
    }
  }
  ```

### è½®è¯¢è§†é¢‘ç”ŸæˆçŠ¶æ€

**å¤„ç†æµç¨‹**:
```typescript
pollVideoTask(sceneId: number, taskId: string)
  â†“
1. æ¸…é™¤ä¹‹å‰çš„è½®è¯¢å®šæ—¶å™¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
2. è®¾ç½®è½®è¯¢å‚æ•°:
   - maxPolls: 120 (æœ€å¤š120æ¬¡ï¼Œçº¦10åˆ†é’Ÿ)
   - pollInterval: 5000ms (æ¯5ç§’è½®è¯¢ä¸€æ¬¡)
3. å®šä¹‰è½®è¯¢å‡½æ•° poll():
   a. è°ƒç”¨ videoGenerateService.queryVideoTask(taskId)
      - æ¥å£: GET /ads/playground/video/completions/{taskId}?user_id={user_id}
   b. æ›´æ–°çŠ¶æ€: storyboardVideos[sceneId] = { status, progress }
   c. åˆ¤æ–­çŠ¶æ€:
      - 'succeeded' + video_url:
        * æ›´æ–°çŠ¶æ€ä¸ºæˆåŠŸï¼Œä¿å­˜video_url
        * æ¸…é™¤è½®è¯¢å®šæ—¶å™¨
        * ä» generatingScenes ç§»é™¤
        * ä¿å­˜åˆ° localStorage
        * æ˜¾ç¤º toast.success
      - 'failed':
        * æ›´æ–°çŠ¶æ€ä¸ºå¤±è´¥
        * æ¸…é™¤è½®è¯¢å®šæ—¶å™¨
        * æ˜¾ç¤º toast.error
      - å…¶ä»–çŠ¶æ€:
        * pollCount++
        * å¦‚æœ pollCount >= maxPollsï¼Œè¶…æ—¶å¤„ç†
4. ç«‹å³æ‰§è¡Œä¸€æ¬¡ poll()
5. è®¾ç½®å®šæ—¶è½®è¯¢: setInterval(poll, pollInterval)
```

**æ¥å£è°ƒç”¨**:
- **Endpoint**: `GET /ads/playground/video/completions/{taskId}?user_id={user_id}`
- **è¿”å›**:
  ```typescript
  {
    code: 200,
    data: {
      task_id: string,
      status: 'succeeded' | 'failed' | 'processing' | 'pending',
      video_url?: string,    // æˆåŠŸæ—¶è¿”å›
      error?: string,        // å¤±è´¥æ—¶è¿”å›
      progress?: number     // è¿›åº¦ 0-100
    }
  }
  ```

### æ‰¹é‡ç”Ÿæˆæ‰€æœ‰åˆ†é•œè§†é¢‘

**è§¦å‘**: ç‚¹å‡»"æ‰¹é‡ç”Ÿæˆè§†é¢‘"æŒ‰é’®

**å¤„ç†æµç¨‹**:
```typescript
generateAllSceneVideos()
  â†“
1. æ£€æŸ¥åˆ†é•œæ•°æ®æ˜¯å¦å­˜åœ¨
2. è¿‡æ»¤éœ€è¦ç”Ÿæˆçš„åˆ†é•œ:
   - æ²¡æœ‰è§†é¢‘ æˆ– è§†é¢‘çŠ¶æ€ä¸æ˜¯ 'succeeded'
3. å¦‚æœæ‰€æœ‰åˆ†é•œéƒ½å·²ç”Ÿæˆï¼Œæ˜¾ç¤º toast.info('æ‰€æœ‰åˆ†é•œè§†é¢‘å·²ç”Ÿæˆ')
4. æ˜¾ç¤º toast.info(`å¼€å§‹æ‰¹é‡ç”Ÿæˆ ${scenesToGenerate.length} ä¸ªåˆ†é•œè§†é¢‘`)
5. ä¾æ¬¡ç”Ÿæˆï¼ˆé¿å…å¹¶å‘è¿‡å¤šï¼‰:
   for (const scene of scenesToGenerate) {
     await generateSceneVideo(scene.id);
     await new Promise(resolve => setTimeout(resolve, 1000)); // é—´éš”1ç§’
   }
```

### è§†é¢‘çŠ¶æ€ç®¡ç†

**çŠ¶æ€æ•°æ®ç»“æ„**:
```typescript
storyboardVideos: Record<number, {
  url?: string;           // è§†é¢‘URLï¼ˆæˆåŠŸæ—¶ï¼‰
  taskId?: string;        // ä»»åŠ¡ID
  status: 'pending' | 'processing' | 'succeeded' | 'failed';
  progress?: number;      // è¿›åº¦ 0-100
}>
```

**çŠ¶æ€æµè½¬**:
```
pending â†’ processing â†’ succeeded / failed
```

### è¿›å…¥Step 4çš„é€»è¾‘

**è§¦å‘**: ç‚¹å‡»"ä¸‹ä¸€æ­¥"æŒ‰é’®

**æ— ç‰¹æ®Šåˆ¤æ–­æ¡ä»¶ï¼Œç›´æ¥æ‰§è¡Œ**: `setStep(4)`

---

## Step 4: ç”Ÿæˆè§†é¢‘

### åŠŸèƒ½æè¿°
åˆå¹¶æ‰€æœ‰åˆ†é•œè§†é¢‘ç‰‡æ®µï¼Œç”Ÿæˆæœ€ç»ˆçš„è¥é”€è§†é¢‘ï¼Œå¹¶æä¾›ä¸‹è½½åŠŸèƒ½ã€‚

### è‡ªåŠ¨åˆå¹¶è§†é¢‘

**è§¦å‘æ—¶æœº**:
- è¿›å…¥Step 4æ—¶ï¼Œå¦‚æœ `finalVideoUrl` ä¸ºç©º
- é€šè¿‡ `useEffect` è‡ªåŠ¨è§¦å‘

**å¤„ç†æµç¨‹**:
```typescript
mergeAllVideos()
  â†“
1. æ£€æŸ¥åˆ†é•œæ•°æ®æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥æ‰€æœ‰åˆ†é•œè§†é¢‘æ˜¯å¦éƒ½å·²ç”Ÿæˆ:
   - éå†æ‰€æœ‰ scenes
   - æ£€æŸ¥ storyboardVideos[scene.id] æ˜¯å¦å­˜åœ¨
   - æ£€æŸ¥ status === 'succeeded' ä¸” url å­˜åœ¨
3. å¦‚æœæœªå…¨éƒ¨å®Œæˆï¼Œæ˜¾ç¤º toast.error('è¯·å…ˆå®Œæˆæ‰€æœ‰åˆ†é•œè§†é¢‘çš„ç”Ÿæˆ')
4. è®¾ç½® isMerging = true
5. æŒ‰é¡ºåºæ”¶é›†æ‰€æœ‰è§†é¢‘URL:
   - videoUrls = scenes.map(scene => storyboardVideos[scene.id]?.url).filter(Boolean)
6. è°ƒç”¨ mergeVideos(videoUrls)
   â†“
   [å†…éƒ¨å¤„ç† - å‰ç«¯åˆå¹¶]
   a. å¦‚æœåªæœ‰ä¸€ä¸ªè§†é¢‘ï¼Œç›´æ¥è¿”å›URL
   b. åŠ è½½æ‰€æœ‰è§†é¢‘åˆ°å†…å­˜:
      - åˆ›å»º video å…ƒç´ 
      - è®¾ç½® crossOrigin = 'anonymous'
      - ç­‰å¾… onloadedmetadata äº‹ä»¶
   c. è·å–ç¬¬ä¸€ä¸ªè§†é¢‘çš„å°ºå¯¸ä½œä¸ºè¾“å‡ºå°ºå¯¸
   d. åˆ›å»º Canvas å’Œ MediaRecorder:
      - Canvas å°ºå¯¸ = è§†é¢‘å°ºå¯¸
      - MediaRecorder ç¼–ç æ ¼å¼æ£€æµ‹å’Œå›é€€:
        * ä¼˜å…ˆ: 'video/webm;codecs=vp9'
        * å›é€€: 'video/webm;codecs=vp8'
        * å›é€€: 'video/webm'
        * å›é€€: 'video/mp4'
   e. æŒ‰é¡ºåºæ’­æ”¾å¹¶å½•åˆ¶æ¯ä¸ªè§†é¢‘:
      - ç›‘å¬ video.ended äº‹ä»¶
      - ä½¿ç”¨ requestAnimationFrame ç»˜åˆ¶æ¯ä¸€å¸§
      - è§†é¢‘ç»“æŸåæ’­æ”¾ä¸‹ä¸€ä¸ª
   f. æ‰€æœ‰è§†é¢‘æ’­æ”¾å®Œæˆåï¼Œåœæ­¢å½•åˆ¶
   g. ç”Ÿæˆ Blob URL è¿”å›
7. æ›´æ–° finalVideoUrl çŠ¶æ€
8. ç”Ÿæˆè§†é¢‘ID: `VID${Date.now()}`
9. ä¿å­˜åˆ° localStorage:
   - 'viralVideo_finalVideo'
   - 'viralVideo_videoId'
10. æ˜¾ç¤º toast.success('è§†é¢‘åˆå¹¶å®Œæˆ')
```

**è§†é¢‘åˆå¹¶å®ç°ç»†èŠ‚**:
- **æŠ€æœ¯æ–¹æ¡ˆ**: Canvas + MediaRecorder API
- **ç¼–ç æ ¼å¼**: è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨æ”¯æŒï¼Œä¼˜å…ˆä½¿ç”¨ VP9
- **è¶…æ—¶ä¿æŠ¤**: æœ€å¤š10åˆ†é’Ÿ
- **é”™è¯¯å¤„ç†**: å®Œæ•´çš„é”™è¯¯æ•è·å’Œæ¸…ç†é€»è¾‘

### è§†é¢‘æ’­æ”¾æ§åˆ¶

**åŠŸèƒ½**:
- æ’­æ”¾/æš‚åœæ§åˆ¶
- éŸ³é‡æ§åˆ¶
- è¿›åº¦æ¡æ‹–æ‹½
- æ—¶é—´æ˜¾ç¤º (å½“å‰æ—¶é—´/æ€»æ—¶é•¿)

**å®ç°**:
```typescript
// æ’­æ”¾æ§åˆ¶
videoRef.current?.play() / pause()

// è¿›åº¦æ›´æ–°
onTimeUpdate äº‹ä»¶ç›‘å¬

// è¿›åº¦æ¡ç‚¹å‡»
onClick è®¡ç®—ç™¾åˆ†æ¯”ï¼Œè®¾ç½® currentTime
```

### ä¸‹è½½è§†é¢‘

**è§¦å‘**: ç‚¹å‡»"ä¸‹è½½"æŒ‰é’®

**å¤„ç†æµç¨‹**:
```typescript
handleDownloadVideo()
  â†“
1. æ£€æŸ¥ finalVideoUrl æ˜¯å¦å­˜åœ¨
2. è°ƒç”¨ downloadVideo(finalVideoUrl, filename)
   â†“
   [å†…éƒ¨å¤„ç†]
   a. å¦‚æœæ˜¯ Blob URL (blob:å¼€å¤´):
      - ç›´æ¥åˆ›å»º <a> æ ‡ç­¾ä¸‹è½½
   b. å¦‚æœæ˜¯æ™®é€šURL:
      - ä½¿ç”¨ fetch è·å–è§†é¢‘
      - è½¬æ¢ä¸º Blob
      - åˆ›å»º Blob URL
      - ä¸‹è½½
      - æ¸…ç† Blob URL
3. æ˜¾ç¤º toast.success('è§†é¢‘ä¸‹è½½å¼€å§‹')
```

**æ–‡ä»¶åæ ¼å¼**: `è¥é”€è§†é¢‘_${videoId || Date.now()}.mp4`

---

## æ•°æ®æŒä¹…åŒ–

### localStorage å­˜å‚¨ç»“æ„

æ‰€æœ‰å…³é”®æ•°æ®éƒ½ä¼šä¿å­˜åˆ° localStorageï¼Œé˜²æ­¢é¡µé¢åˆ·æ–°ä¸¢å¤±ï¼š

| Key | æ•°æ®ç±»å‹ | è¯´æ˜ |
|-----|---------|------|
| `viralVideo_analysis` | `ProductAnalysis` | å•†å“åˆ†æç»“æœ |
| `viralVideo_images` | `Array<{url, id}>` | ä¸Šä¼ çš„å›¾ç‰‡åˆ—è¡¨ |
| `viralVideo_scripts` | `ScriptOption[]` | ç”Ÿæˆçš„è„šæœ¬é€‰é¡¹ |
| `viralVideo_storyboard` | `Storyboard` | åˆ†é•œè¯¦æƒ… |
| `viralVideo_selectedScript` | `string` | é€‰ä¸­çš„è„šæœ¬ID |
| `viralVideo_editedStoryboard` | `Storyboard` | ç¼–è¾‘åçš„åˆ†é•œ |
| `viralVideo_sceneVideos` | `Record<number, {...}>` | åˆ†é•œè§†é¢‘çŠ¶æ€ |
| `viralVideo_finalVideo` | `string` | æœ€ç»ˆè§†é¢‘URL |
| `viralVideo_videoId` | `string` | è§†é¢‘ID |

### æ•°æ®æ¢å¤é€»è¾‘

**ç»„ä»¶æŒ‚è½½æ—¶** (`useEffect`):
```typescript
// æ¢å¤æ‰€æœ‰æ•°æ®
const savedAnalysis = localStorage.getItem('viralVideo_analysis');
const savedImages = localStorage.getItem('viralVideo_images');
const savedEditedStoryboard = localStorage.getItem('viralVideo_editedStoryboard');
const savedVideos = localStorage.getItem('viralVideo_sceneVideos');

// è§£æå¹¶è®¾ç½®çŠ¶æ€
if (savedAnalysis) setAnalysisResult(JSON.parse(savedAnalysis));
if (savedImages) setUploadedImages(JSON.parse(savedImages));
// ...
```

**è¿›å…¥Step 2æ—¶**:
```typescript
// æ¢å¤è„šæœ¬å’Œåˆ†é•œæ•°æ®
const savedScripts = localStorage.getItem('viralVideo_scripts');
const savedStoryboard = localStorage.getItem('viralVideo_storyboard');
const savedScriptId = localStorage.getItem('viralVideo_selectedScript');
```

**è¿›å…¥Step 4æ—¶**:
```typescript
// æ¢å¤æœ€ç»ˆè§†é¢‘
const savedVideo = localStorage.getItem('viralVideo_finalVideo');
const savedVideoId = localStorage.getItem('viralVideo_videoId');
```

---

## é”™è¯¯å¤„ç†

### å…¨å±€é”™è¯¯å¤„ç†ç­–ç•¥

1. **APIè°ƒç”¨é”™è¯¯**:
   - ä½¿ç”¨ try-catch æ•è·
   - æ˜¾ç¤º toast.error æç¤ºç”¨æˆ·
   - è®°å½• console.error ç”¨äºè°ƒè¯•

2. **æ•°æ®éªŒè¯é”™è¯¯**:
   - åœ¨å…³é”®æ­¥éª¤å‰éªŒè¯å¿…è¦æ•°æ®
   - æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤º

3. **è¶…æ—¶å¤„ç†**:
   - è§†é¢‘ç”Ÿæˆè½®è¯¢: æœ€å¤š120æ¬¡ï¼ˆ10åˆ†é’Ÿï¼‰
   - è§†é¢‘åˆå¹¶: æœ€å¤š10åˆ†é’Ÿ

4. **ç½‘ç»œé”™è¯¯**:
   - è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼ˆéƒ¨åˆ†åœºæ™¯ï¼‰
   - æ˜¾ç¤ºæ˜ç¡®çš„é”™è¯¯ä¿¡æ¯

### é”™è¯¯æç¤ºç¤ºä¾‹

```typescript
// ä¸Šä¼ å¤±è´¥
toast.error('ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•');

// åˆ†æå¤±è´¥
toast.error('å›¾ç‰‡åˆ†æå¤±è´¥ï¼Œè¯·é‡è¯•');

// è„šæœ¬ç”Ÿæˆå¤±è´¥
toast.error('è„šæœ¬ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•');

// è§†é¢‘ç”Ÿæˆå¤±è´¥
toast.error(`åˆ†é•œ ${sceneId} è§†é¢‘ç”Ÿæˆå¤±è´¥: ${error || 'æœªçŸ¥é”™è¯¯'}`);

// è§†é¢‘åˆå¹¶å¤±è´¥
toast.error('è§†é¢‘åˆå¹¶å¤±è´¥ï¼Œè¯·é‡è¯•');
```

---

## æ¥å£è°ƒç”¨è¯¦æƒ…

### 1. å›¾ç‰‡ä¸Šä¼ æ¥å£

#### æœ¬åœ°æ–‡ä»¶ä¸Šä¼ 
- **Endpoint**: `POST /resource/oss/upload`
- **Method**: `uploadService.uploadFile(file: File)`
- **Content-Type**: `multipart/form-data`
- **è¿”å›**: `{ url: string, fileName: string, ossId: string }`

#### é“¾æ¥å¯¼å…¥
- **Endpoint**: `POST /resource/oss/uploadByImageUrl`
- **Method**: `uploadService.uploadByImageUrl(imageUrl: string, extensionType: string)`
- **å‚æ•°**: `{ imageUrl: string, extensionType: string }`
- **è¿”å›**: `{ url: string, fileName: string, ossId: string }`

### 2. ç´ æåˆ—è¡¨æ¥å£

- **Endpoint**: `GET /resource/assets/list`
- **Method**: `assetsService.getAssetsList(params)`
- **å‚æ•°**: `{ pageNum: number, pageSize: number, dataType: number }`
- **è¿”å›**: `AdsAssetsVO[]`

### 3. AIå¯¹è¯æ¥å£ï¼ˆå›¾ç‰‡åˆ†æã€è„šæœ¬ç”Ÿæˆã€åˆ†é•œç”Ÿæˆï¼‰

- **Endpoint**: `POST /ads/playground/chat/completions`
- **Method**: `chatService.chatCompletions(requestData)`
- **å‚æ•°**:
  ```typescript
  {
    model: string,           // 'qwen-plus'
    messages: Array<{
      role: 'system' | 'user',
      content: string | Array<{
        type: 'text' | 'image_url',
        text?: string,
        image_url?: { url: string }
      }>
    }>,
    temperature: number      // 0.3 æˆ– 0.7
  }
  ```
- **è¿”å›**:
  ```typescript
  {
    code: 200,
    data: {
      choices: [{
        message: {
          content: string  // JSONæ ¼å¼çš„AIå“åº”
        }
      }]
    }
  }
  ```

### 4. è§†é¢‘ç”Ÿæˆæ¥å£

#### æäº¤è§†é¢‘ç”Ÿæˆä»»åŠ¡
- **Endpoint**: `POST /ads/playground/video/completions`
- **Method**: `videoGenerateService.submitVideoTask(data)`
- **å‚æ•°**:
  ```typescript
  {
    model: 'doubao-seedance-1-0-pro-250528',
    prompt: string,
    content: Array<{
      type: 'text' | 'image_url',
      text?: string,
      image_url?: { url: string },
      role?: 'reference_image'
    }>,
    user_id: string
  }
  ```
- **è¿”å›**:
  ```typescript
  {
    code: 200,
    data: {
      task_id: string
    }
  }
  ```

#### æŸ¥è¯¢è§†é¢‘ç”ŸæˆçŠ¶æ€
- **Endpoint**: `GET /ads/playground/video/completions/{taskId}?user_id={user_id}`
- **Method**: `videoGenerateService.queryVideoTask(taskId)`
- **è¿”å›**:
  ```typescript
  {
    code: 200,
    data: {
      task_id: string,
      status: 'succeeded' | 'failed' | 'processing' | 'pending',
      video_url?: string,
      error?: string,
      progress?: number
    }
  }
  ```

---

## çŠ¶æ€ç®¡ç†æ€»ç»“

### ä¸»è¦çŠ¶æ€å˜é‡

```typescript
// Step 1
uploadedImages: Array<{url, file?, id?}>
isAnalyzing: boolean
analysisResult: ProductAnalysis | null
isUploading: boolean
linkInput: string
showPortfolioModal: boolean
portfolioAssets: AdsAssetsVO[]

// Step 2
availableScripts: ScriptOption[]
selectedScript: string
storyboard: Storyboard | null
isGeneratingScripts: boolean
isGeneratingStoryboard: boolean

// Step 3
editedStoryboard: Storyboard | null
storyboardVideos: Record<number, {...}>
generatingScenes: number[]
videoPollingIntervals: Record<number, NodeJS.Timeout>

// Step 4
finalVideoUrl: string
isMerging: boolean
videoId: string
isPlaying: boolean
```

---

## å…³é”®åˆ¤æ–­é€»è¾‘æ€»ç»“

### Step 1 â†’ Step 2
- âœ… `uploadedImages.length > 0`
- âœ… `analysisResult !== null`

### Step 2 â†’ Step 3
- âœ… `storyboard !== null`

### Step 3 â†’ Step 4
- æ— ç‰¹æ®Šåˆ¤æ–­ï¼Œç›´æ¥è¿›å…¥

### Step 4 åˆå¹¶è§†é¢‘
- âœ… æ‰€æœ‰åˆ†é•œè§†é¢‘çŠ¶æ€ä¸º `'succeeded'`
- âœ… æ‰€æœ‰åˆ†é•œè§†é¢‘éƒ½æœ‰ `url`

---

## æŠ€æœ¯è¦ç‚¹

1. **AIå¤šæ¨¡æ€è¾“å…¥**: ä½¿ç”¨ `image_url` ç±»å‹æ”¯æŒå›¾ç‰‡è¾“å…¥
2. **JSONè§£æå®¹é”™**: æ”¯æŒMarkdownä»£ç å—å’Œçº¯JSONä¸¤ç§æ ¼å¼
3. **è½®è¯¢æœºåˆ¶**: ä½¿ç”¨ `setInterval` å®ç°è§†é¢‘ç”ŸæˆçŠ¶æ€æŸ¥è¯¢
4. **å‰ç«¯è§†é¢‘åˆå¹¶**: ä½¿ç”¨ Canvas + MediaRecorder API
5. **æ•°æ®æŒä¹…åŒ–**: localStorage ä¿å­˜æ‰€æœ‰å…³é”®çŠ¶æ€
6. **é”™è¯¯æ¢å¤**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

---

## æ–‡ä»¶ç»“æ„

```
pages/Create/components/
  â””â”€â”€ ViralVideoPage.tsx          # ä¸»ç»„ä»¶

services/
  â”œâ”€â”€ viralVideoService.ts        # AIæœåŠ¡ï¼ˆåˆ†æã€è„šæœ¬ã€åˆ†é•œï¼‰
  â”œâ”€â”€ videoGenerateService.ts     # è§†é¢‘ç”ŸæˆæœåŠ¡
  â”œâ”€â”€ uploadService.ts            # æ–‡ä»¶ä¸Šä¼ æœåŠ¡
  â”œâ”€â”€ assetsService.ts            # ç´ ææœåŠ¡
  â””â”€â”€ chatService.ts              # AIå¯¹è¯æœåŠ¡

utils/
  â””â”€â”€ videoUtils.ts               # è§†é¢‘å·¥å…·ï¼ˆåˆå¹¶ã€ä¸‹è½½ï¼‰
```

---

## æ€»ç»“

æœ¬åŠŸèƒ½å®ç°äº†å®Œæ•´çš„AIé©±åŠ¨è¥é”€è§†é¢‘ç”Ÿæˆå·¥ä½œæµï¼ŒåŒ…å«ï¼š
- âœ… 4ä¸ªä¸»è¦æ­¥éª¤çš„å®Œæ•´å®ç°
- âœ… 3ç§å›¾ç‰‡ä¸Šä¼ æ–¹å¼
- âœ… AIå›¾ç‰‡åˆ†æå’Œè„šæœ¬ç”Ÿæˆ
- âœ… åˆ†é•œç¼–è¾‘å’Œè§†é¢‘ç”Ÿæˆ
- âœ… å‰ç«¯è§†é¢‘åˆå¹¶
- âœ… å®Œæ•´çš„æ•°æ®æŒä¹…åŒ–
- âœ… å®Œå–„çš„é”™è¯¯å¤„ç†

æ‰€æœ‰åŠŸèƒ½å‡å·²å®ç°å¹¶é€šè¿‡æµ‹è¯•ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚

